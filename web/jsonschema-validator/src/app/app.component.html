<mat-toolbar color="primary">
  <span>{{ title }}</span>
  <span class="toolbar-spacer"></span>
  <app-schema-version-selector
    [selectedVersion]="schemaVersion()"
    (versionChange)="onSchemaVersionChange($event)">
  </app-schema-version-selector>
</mat-toolbar>

<div class="app-container">
  <!-- Editor Panes Section with Split Pane -->
  <div class="editor-section">
    <as-split direction="horizontal" [gutterSize]="8">
      <as-split-area [size]="50">
        <div class="editor-pane">
          <app-json-editor 
            #jsonEditor
            [initialContent]="jsonInput()"
            (contentChange)="onJsonChange($event)">
          </app-json-editor>
        </div>
      </as-split-area>
      <as-split-area [size]="50">
        <div class="editor-pane">
          <app-schema-editor 
            [initialContent]="schemaInput()"
            (contentChange)="onSchemaChange($event)">
          </app-schema-editor>
        </div>
      </as-split-area>
    </as-split>
  </div>

  <!-- Validate Button Section -->
  <div class="action-section">
    @if (isValidating()) {
      <button 
        mat-raised-button 
        color="primary" 
        class="validate-btn"
        disabled>
        <mat-icon class="spinning">sync</mat-icon>
        Validating...
      </button>
    } @else {
      <button 
        mat-raised-button 
        color="primary" 
        class="validate-btn"
        (click)="onValidate()">
        <mat-icon>play_arrow</mat-icon>
        Validate
      </button>
    }
    <span class="keyboard-hint">Ctrl+Enter</span>
  </div>

  <!-- Results Section -->
  <div class="results-section">
    <app-validation-result
      [state]="validationState()"
      [result]="validationResult()"
      [errorMessage]="errorMessage()"
      [schemaVersion]="schemaVersion()"
      (errorClick)="onErrorClick($event)"
      (retry)="onRetry()">
    </app-validation-result>
  </div>
</div>
